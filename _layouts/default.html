---
---
<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% if page.title %}{{ page.title | escape }} · {% endif %}{{ site.title | escape }}</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content="#0f172a">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
            devanagari: ['Noto Sans Devanagari', 'Inter', 'system-ui', 'sans-serif'],
          },
          colors: {
            brand: {
              50: '#e0f2ff',
              100: '#b3e0ff',
              500: '#2d8cff',
              600: '#1d6fe0',
              700: '#1555b2',
            }
          },
          typography: {
            DEFAULT: {
              css: {
                maxWidth: '70ch',
                lineHeight: '1.8',
              }
            }
          }
        }
      }
    }
  </script>
  <style>
    :root { color-scheme: dark; }
    body { font-family: 'Inter', 'system-ui', sans-serif; background:#0b1221; }
    .devanagari { font-family: 'Noto Sans Devanagari', 'Inter', 'system-ui', sans-serif; line-height: 1.9; }
    
    /* Enhanced Reading Experience */
    .prose { font-size: 1.125rem; line-height: 1.85; letter-spacing: -0.01em; }
    .prose p { margin-bottom: 1.5em; }
    .prose h2 { margin-top: 2.5em; margin-bottom: 0.75em; font-size: 1.5rem; font-weight: 700; }
    .prose h3 { margin-top: 2em; margin-bottom: 0.5em; font-size: 1.25rem; font-weight: 600; }
    .prose blockquote { border-left: 4px solid #2d8cff; padding-left: 1.25em; margin: 1.75em 0; font-style: italic; color: #94a3b8; }
    .prose ul, .prose ol { margin: 1.5em 0; padding-left: 1.5em; }
    .prose li { margin-bottom: 0.5em; }
    .prose a { text-decoration: underline; text-underline-offset: 3px; }
    .prose a:hover { color: #fff; }
    .prose img { border-radius: 1rem; margin: 2em 0; }
    .prose strong { color: #fff; font-weight: 600; }
    .prose code { background: rgba(255,255,255,0.1); padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.9em; }
    
    /* Reading Progress Bar */
    #reading-progress { position: fixed; top: 0; left: 0; width: 0%; height: 3px; background: linear-gradient(90deg, #2d8cff, #6366f1); z-index: 9999; transition: width 0.1s ease-out; }
    
    /* Smooth scrolling with reduced motion support */
    @media (prefers-reduced-motion: no-preference) {
      html { scroll-behavior: smooth; }
    }
    
    /* Better focus states */
    *:focus-visible { outline: 2px solid #2d8cff; outline-offset: 2px; }
    
    /* Newsletter button states */
    .newsletter-btn { transition: all 0.2s ease; }
    .newsletter-btn:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(45, 140, 255, 0.4); }
    .newsletter-btn:disabled { opacity: 0.7; cursor: not-allowed; }
    .newsletter-btn.loading { position: relative; color: transparent; }
    .newsletter-btn.loading::after { content: ''; position: absolute; inset: 0; margin: auto; width: 18px; height: 18px; border: 2px solid #fff; border-top-color: transparent; border-radius: 50%; animation: spin 0.8s linear infinite; }
    @keyframes spin { to { transform: rotate(360deg); } }
  </style>
  {%- seo -%}
  {%- feed_meta -%}
  <link rel="alternate" type="application/rss+xml" title="KB Tech News RSS" href="{{ '/feed.xml' | absolute_url }}" />
  <link rel="sitemap" type="application/xml" title="Sitemap" href="{{ '/sitemap.xml' | absolute_url }}" />
  <link rel="icon" href="{{ '/assets/images/logo.svg' | absolute_url }}">
</head>
<body class="bg-slate-950 text-slate-100 antialiased">
  <div id="reading-progress"></div>
  <a href="#content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:bg-brand-600 focus:text-white focus:px-4 focus:py-2 focus:rounded focus:z-50">Skip to content</a>

  <header class="sticky top-0 z-50 backdrop-blur border-b border-white/10 bg-slate-950/80">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
      <a class="flex items-center gap-2" href="{{ '/' | absolute_url }}" aria-label="KB Tech News home">
        <span class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-brand-500 to-indigo-600 text-white font-bold">KB</span>
        <div>
          <p class="text-lg font-semibold leading-tight">{{ site.title }}</p>
          <p class="text-xs text-slate-400">{{ site.tagline }}</p>
        </div>
      </a>
      <button id="navToggle" class="md:hidden inline-flex h-10 w-10 items-center justify-center rounded border border-white/10 text-white" aria-expanded="false" aria-controls="primaryNav" aria-label="Toggle navigation">
        <span class="sr-only">Toggle menu</span>
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>
      <nav id="primaryNav" class="hidden md:flex items-center gap-6 text-sm font-medium" aria-label="Primary navigation">
        <a class="hover:text-white text-slate-300 transition-colors" href="{{ '/' | absolute_url }}">Home</a>
        <a class="hover:text-white text-slate-300 transition-colors" href="{{ '/search' | absolute_url }}">Search</a>
        <a class="hover:text-white text-slate-300 transition-colors" href="{{ '/about' | absolute_url }}">About</a>
        <a class="hover:text-white text-slate-300 transition-colors" href="{{ '/authors' | absolute_url }}">Authors</a>
        <a class="hover:text-white text-slate-300 transition-colors" href="{{ '/contact' | absolute_url }}">Contact</a>
        <a class="inline-flex items-center gap-2 text-slate-200 bg-white/5 px-3 py-2 rounded-full border border-white/10 hover:bg-white/10 transition-colors" href="{{ '/feed.xml' | absolute_url }}" aria-label="RSS feed">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20 5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"/></svg>
          RSS
        </a>
      </nav>
    </div>
  </header>

  <main id="content" class="min-h-screen">
    {{ content }}
  </main>

  <footer class="border-t border-white/10 bg-slate-950/90">
    <div class="max-w-6xl mx-auto px-4 py-12 grid grid-cols-1 md:grid-cols-4 gap-10">
      <div class="space-y-3">
        <div class="inline-flex items-center gap-2">
          <span class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-brand-500 to-indigo-600 text-white font-bold">KB</span>
          <span class="font-semibold">{{ site.title }}</span>
        </div>
        <p class="text-sm text-slate-400">Independent tech journalism in English and Hindi. Fast, accurate, and reader-first.</p>
      </div>
      <div>
        <h3 class="font-semibold text-white">Pages</h3>
        <ul class="mt-3 space-y-2 text-sm text-slate-300">
          <li><a class="hover:text-white" href="{{ '/about' | absolute_url }}">About</a></li>
          <li><a class="hover:text-white" href="{{ '/contact' | absolute_url }}">Contact</a></li>
          <li><a class="hover:text-white" href="{{ '/privacy-policy' | absolute_url }}">Privacy Policy</a></li>
          <li><a class="hover:text-white" href="{{ '/editorial-policy' | absolute_url }}">Editorial Policy</a></li>
        </ul>
      </div>
      <div>
        <h3 class="font-semibold text-white">Follow</h3>
        <ul class="mt-3 space-y-2 text-sm text-slate-300">
          <li><a class="hover:text-white" href="https://twitter.com/kbtechnews" rel="noopener" target="_blank">Twitter / X</a></li>
          <li><a class="hover:text-white" href="{{ '/feed.xml' | absolute_url }}">RSS Feed</a></li>
          <li><a class="hover:text-white" href="mailto:contact@kbhaskar.tech">Email</a></li>
        </ul>
      </div>
      <div class="space-y-3">
        <h3 class="font-semibold text-white">Newsletter</h3>
        <p class="text-sm text-slate-400">Get weekly highlights in English and Hindi.</p>
        <form class="space-y-3" name="newsletter" aria-label="Newsletter sign-up" data-newsletter-form>
          <label class="sr-only" for="footer-email">Email</label>
          <input id="footer-email" name="email" type="email" required placeholder="you@example.com" data-newsletter-input class="w-full rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500 transition-all" />
          <button type="submit" class="newsletter-btn w-full rounded-md bg-gradient-to-r from-brand-500 to-indigo-600 px-3 py-2 text-sm font-semibold text-white hover:from-brand-600 hover:to-indigo-700">
            Subscribe
          </button>
          <p data-newsletter-status class="text-xs hidden" aria-live="polite"></p>
          <p class="text-xs text-slate-400">We respect your privacy. Unsubscribe anytime.</p>
        </form>
      </div>
    </div>
    <div class="border-t border-white/5 py-4 text-center text-xs text-slate-500">© {{ 'now' | date: '%Y' }} {{ site.title }}. Built for Google News compliance.</div>
  </footer>

  <script>
    const navToggle = document.getElementById('navToggle');
    const primaryNav = document.getElementById('primaryNav');
    if (navToggle && primaryNav) {
      navToggle.addEventListener('click', () => {
        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', String(!isExpanded));
        primaryNav.classList.toggle('hidden');
        primaryNav.classList.toggle('flex');
        primaryNav.classList.toggle('flex-col');
        primaryNav.classList.toggle('p-4');
        primaryNav.classList.toggle('gap-4');
      });
    }
    
    // Reading progress bar
    const progressBar = document.getElementById('reading-progress');
    if (progressBar) {
      window.addEventListener('scroll', () => {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
        progressBar.style.width = progress + '%';
      }, { passive: true });
    }
  </script>
  <script>
    window.NEWSLETTER_ENDPOINT = "{{ site.forms.newsletter_endpoint | default: '' }}";
  </script>
  <script src="{{ '/assets/js/newsletter.js' | relative_url }}" defer></script>
</body>
</html>

